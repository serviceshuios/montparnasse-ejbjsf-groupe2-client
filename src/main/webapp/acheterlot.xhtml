<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta charset="UTF-8" />
	<title>Insert title here</title>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>
<body>

	<div class="container">
		<h1>Fiche Lotissement</h1>
		<h:form>
			<h:panelGrid columns="2" cellpadding="5">
				<f:validateBean>

					<h:outputLabel value="Personne" />
					<h:selectOneMenu value="#{personneBean.personne.idPersonne}">
						<f:selectItem itemValue="0" itemLabel="Attribuez une personne" />
						<f:selectItems value="#{personneBean.listerPersonnes()}" var="p"
							itemValue="#{p.idPersonne}"
							itemLabel="#{p.nom},#{p.prenom},#{p.age}" />
					</h:selectOneMenu>

					<h:outputLabel value="Lotissement" />
					<h:selectOneMenu value="#{lotissementBean.lotissement.idLot}">
						<f:selectItem itemValue="0" itemLabel="Attribuez une lotissement" />
						<f:selectItems value="#{lotissementBean.listerLotissements()}"
							var="l" itemValue="#{l.idLot}"
							itemLabel="#{l.numLot},#{l.adresseLot},#{l.dateCreation},#{l.prix}" />
					</h:selectOneMenu>

				</f:validateBean>
			</h:panelGrid>
			<h:commandButton action="#{lotissementBean.acheterLotissement}"
				value="Acheter" />

		
				<div>
					<h2>Liste des lotissements vendus</h2>
					<h:dataTable value="#{lotissementBean.listerAchats()}" var="l"
						class="table table-striped">
						<h:column>
							<f:facet name="header">ID lotissement</f:facet>
							<h:outputText value="#{l.idLot}" />
						</h:column>
						<h:column>
							<f:facet name="header">Numéro de Lotissement</f:facet>
							<h:outputText value="#{l.numLot}" />
						</h:column>
						<h:column>
							<f:facet name="header">Adresse Lotissement</f:facet>
							<h:outputText value="#{l.adresseLot}" />
						</h:column>
						<h:column>
							<f:facet name="header">Date de création</f:facet>
							<h:outputText value="#{l.dateCreation}" />
						</h:column>
						<h:column>
							<f:facet name="header"> ID Personne</f:facet>
							<h:outputText value="#{l.personne.idPersonne}" />
						</h:column>
						<!-- 				<h:column> -->
						<!-- 					<f:facet name="header">Modifier</f:facet> -->
						<!-- 					<h:commandLink action="#{lotissementBean.getLotissement(l.idLot)}" value="Modifier"> -->
						<!-- 					<f:setPropertyActionListener target="#{lotissementBean.lotissement}" value="#{l}"></f:setPropertyActionListener> -->
						<!-- 					</h:commandLink> -->
						<!-- 				</h:column> -->
						<!-- 				<h:column> -->
						<!-- 					<f:facet name="header">Supprimer</f:facet> -->
						<!-- 					<h:commandLink action="#{lotissementBean.supprimerLotissement2(l.idLot)}" value="Supprimer"> -->
						<!-- 					<f:setPropertyActionListener value="#{l.idLot}" target="#{lotissementBean.lotissement.idLot}"></f:setPropertyActionListener> -->
						<!-- 					</h:commandLink> -->
						<!-- 				</h:column> -->
					</h:dataTable>
				</div>

				<div>
					<h2>Liste des lotissements à vendre</h2>
					<h:dataTable value="#{lotissementBean.listerLotissements()}" var="l"
						class="table table-striped">
						<h:column>
							<f:facet name="header">ID lotissement</f:facet>
							<h:outputText value="#{l.idLot}" />
						</h:column>
						<h:column>
							<f:facet name="header">Numéro de Lotissement</f:facet>
							<h:outputText value="#{l.numLot}" />
						</h:column>
						<h:column>
							<f:facet name="header">Adresse Lotissement</f:facet>
							<h:outputText value="#{l.adresseLot}" />
						</h:column>
						<h:column>
							<f:facet name="header">Date de création</f:facet>
							<h:outputText value="#{l.dateCreation}" />
						</h:column>
						<!-- 				<h:column> -->
						<!-- 					<f:facet name="header"> ID Personne</f:facet> -->
						<!-- 					<h:outputText value="#{l.personne.idPersonne}" /> -->
						<!-- 				</h:column> -->


					</h:dataTable>
				</div>
	
	</h:form>
	</div>


</body>
</html>